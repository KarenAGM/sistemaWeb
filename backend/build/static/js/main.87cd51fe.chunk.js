(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(30),r=n.n(s),i=(n(37),n(38),n(10)),o=n(2),j=n(0);var l=function(e){return Object(j.jsxs)("div",{className:"bienvenida",children:[Object(j.jsx)("h1",{children:"WELCOME"}),Object(j.jsx)("img",{className:"imagen-inicial",src:"https://image.freepik.com/vector-gratis/tienda-frutas-estilo-dibujos-animados-logo-fruta-aislado_1308-47337.jpg"})]})},u=n(9),d=n.n(u),b=n(12),O=n(8),h=n(13),p=n.n(h),m={BACKEND_URL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND||"https://storefruits.herokuapp.com"};var x=function(e){var t=Object(c.useState)([]),n=Object(O.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){return function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(m.BACKEND_URL+"/api/products");case 2:t=e.sent,n=t.data,s(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("ul",{className:"cards",children:a.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"product",children:[Object(j.jsx)("img",{className:"product-image",src:e.image,alt:e.name}),Object(j.jsx)("div",{className:"product-name",children:e.name}),Object(j.jsxs)("div",{className:"price",children:[Object(j.jsx)("div",{className:"num",children:e.price}),Object(j.jsx)("a",{className:"boton",href:"#",children:"Add"})]})]})})}))})})})},f=n(16),g=n(14),v=a.a.createContext(null);function N(){return Object(c.useContext)(v)}function S(e){var t=e.children,n=Object(c.useState)(!1),a=Object(O.a)(n,2),s=a[0],r=a[1];return Object(j.jsx)(v.Provider,{value:{logear:function(){r(!0)},desloguar:function(){r(!1)},autenticado:s},children:t})}var E=function(e){var t=Object(c.useState)({}),n=Object(O.a)(t,2),a=n[0],s=n[1],r=N().logear,i=Object(o.f)();function l(e){var t=e.target,n=t.name,c=t.value;s(Object(g.a)(Object(g.a)({},a),{},Object(f.a)({},n,c)))}function u(e){return h.apply(this,arguments)}function h(){return(h=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post(m.BACKEND_URL+"/api/signin",a);case 3:n=e.sent,console.log(n),200!=n.status?console.error("error"):(r(),i.push("/products"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{className:"signin",children:Object(j.jsxs)("form",{className:"login",onSubmit:u,children:[Object(j.jsx)("div",{className:"login-header",children:Object(j.jsx)("h1",{children:"Login"})}),Object(j.jsxs)("div",{className:"login-form",children:[Object(j.jsx)("h3",{children:"Email:"}),Object(j.jsx)("input",{type:"email",placeholder:"email",name:"email",id:"email",onChange:l}),Object(j.jsx)("br",{}),Object(j.jsx)("h3",{children:"Password :"}),Object(j.jsx)("input",{type:"password",placeholder:"Password",name:"password",id:"password",onChange:l}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"login-button",onSubmit:u,children:"Login"})]})]})})};var w=function(e){var t=Object(c.useState)(""),n=Object(O.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(O.a)(r,2),l=i[0],u=i[1],h=Object(c.useState)(""),x=Object(O.a)(h,2),f=x[0],g=x[1],v=N().logear,S=Object(o.f)();function E(e){return w.apply(this,arguments)}function w(){return(w=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.post(m.BACKEND_URL+"/api/signup",{name:a,email:l,password:f});case 3:n=e.sent,console.log(n),200!=n.status?console.error("error"):(console.log("Hola"),v(),S.push("/products"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("form",{className:"login",onSubmit:E,children:[Object(j.jsx)("div",{className:"login-header",children:Object(j.jsx)("h1",{children:"Login"})}),Object(j.jsxs)("div",{className:"login-form",children:[Object(j.jsx)("h3",{children:"Username:"}),Object(j.jsx)("input",{type:"text",placeholder:"Username",name:"name",id:"name",onChange:function(e){s(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("h3",{children:"Email:"}),Object(j.jsx)("input",{type:"email",placeholder:"Email",name:"email",id:"email",onChange:function(e){u(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("h3",{children:"Password :"}),Object(j.jsx)("input",{type:"password",placeholder:"Password",name:"password",id:"password",onChange:function(e){g(e.target.value)}}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",className:"login-button",onSubmit:E,children:"Register"})]})]})})},C=n(32);function _(e){var t=e.children,n=Object(C.a)(e,["children"]),c=N().autenticado;return Object(j.jsx)(o.b,Object(g.a)(Object(g.a)({},n),{},{render:function(){return c?t:Object(j.jsx)(o.a,{to:"/signin"})}}))}var y=function(){return Object(j.jsx)(i.a,{children:Object(j.jsx)(S,{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("header",{className:"navigation",children:[Object(j.jsx)("div",{className:"titulo-menu",children:Object(j.jsx)("a",{children:"STORE FRUITS"})}),Object(j.jsxs)("div",{className:"links",children:[Object(j.jsx)(i.b,{to:"/signin",children:"Sign in"}),Object(j.jsx)(i.b,{to:"signup",children:"Sign up"})]})]}),Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(o.b,{path:"/",exact:!0,component:l}),Object(j.jsx)(o.b,{path:"/signin",component:E}),Object(j.jsx)(o.b,{path:"/signup",component:w}),Object(j.jsx)(_,{path:"/products",children:Object(j.jsx)(x,{})})]})]})})})};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.87cd51fe.chunk.js.map